<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bInventory</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                "Helvetica Neue", sans-serif;
            background-color: transparent;
            overflow: hidden;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(31, 41, 55, 0.5);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(75, 85, 99, 0.7);
            border-radius: 3px;
            border: 1px solid rgba(31, 41, 55, 0.3);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(107, 114, 128, 0.8);
        }

        /* Remove arrows from number inputs */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
        }

        /* Custom focus styles */
        input:focus,
        select:focus,
        button:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(to right, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Glow effects */
        .glow-blue {
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }

        .glow-red {
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.5);
        }

        .glow-green {
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Draggable Item Component with native drag functionality
        const DraggableItem = ({ item, source, onClick, uiSettings, onDragStart, onDragEnd }) => {
            const [isDragging, setIsDragging] = useState(false);

            const getCategoryColor = (category) => {
                switch (category) {
                    case "weapons":
                        return "from-red-500/20 to-red-900/20 border-red-800/30"
                    case "medical":
                        return "from-green-500/20 to-green-900/20 border-green-800/30"
                    case "consumables":
                        return "from-amber-500/20 to-amber-900/20 border-amber-800/30"
                    case "tools":
                        return "from-blue-500/20 to-blue-900/20 border-blue-800/30"
                    case "valuables":
                        return "from-purple-500/20 to-purple-900/20 border-purple-800/30"
                    case "clothing":
                        return "from-cyan-500/20 to-cyan-900/20 border-cyan-800/30"
                    default:
                        return "from-gray-700/50 to-gray-900/50 border-gray-700/50"
                }
            }

            const handleDragStart = (e) => {
                setIsDragging(true);
                e.dataTransfer.setData('application/json', JSON.stringify({ ...item, source }));
                e.dataTransfer.effectAllowed = 'move';
                if (onDragStart) onDragStart(item, source);
            };

            const handleDragEnd = (e) => {
                setIsDragging(false);
                if (onDragEnd) onDragEnd();
            };

            return (
                <div
                    draggable
                    onDragStart={handleDragStart}
                    onDragEnd={handleDragEnd}
                    className={`w-[85%] h-[85%] mx-auto my-auto bg-gradient-to-br ${
                        uiSettings.showCategoryColors
                            ? getCategoryColor(item.category)
                            : "from-gray-700/50 to-gray-900/50 border-gray-700/50"
                    } backdrop-blur-sm border rounded-md flex flex-col items-center justify-center relative cursor-pointer hover:border-gray-500 transition-all ${
                        isDragging ? "opacity-50 scale-95" : "opacity-100"
                    } shadow-lg`}
                    onClick={onClick}
                    style={{ opacity: isDragging ? 0.5 : 1 }}
                >
                    <div className="absolute inset-0 bg-black/20 rounded-md"></div>
                    <img
                        src={item.image || "/placeholder.svg"}
                        alt={item.name}
                        className="w-8 h-8 object-contain relative z-10 drop-shadow-md"
                    />
                    <div className="mt-1 text-[10px] text-center truncate w-full px-1 font-medium text-white/90 relative z-10 drop-shadow-md">
                        {item.name}
                    </div>
                    {item.quantity > 1 && (
                        <div className="absolute top-0.5 right-0.5 bg-black/60 text-white text-[8px] px-1 py-0.5 rounded-full font-medium z-20 backdrop-blur-sm border border-white/10">
                            {item.quantity}
                        </div>
                    )}
                    {uiSettings.showWeight && item.weight > 0 && (
                        <span className="absolute bottom-0.5 right-0.5 text-[8px] text-white/70 font-medium z-10">{item.weight}kg</span>
                    )}
                    {item.illegal && uiSettings.showIllegalMarker && (
                        <span className="absolute top-0.5 left-0.5 bg-red-500/80 text-white text-[8px] p-0.5 rounded-full z-20">⚠️</span>
                    )}
                    {uiSettings.showDurability && (
                        <div className="absolute bottom-0.5 left-0.5 w-full max-w-[70%] h-1 bg-black/40 rounded-full overflow-hidden z-10">
                            <div
                                className={`h-full ${
                                    item.durability > 75 ? "bg-emerald-500" : item.durability > 40 ? "bg-amber-500" : "bg-red-500"
                                }`}
                                style={{ width: `${item.durability}%` }}
                            ></div>
                        </div>
                    )}
                </div>
            )
        }

        // Droppable Slot Component with native drop functionality
        const DroppableSlot = ({ slot, item, source, onItemClick, onDrop, uiSettings }) => {
            const [isOver, setIsOver] = useState(false);

            const handleDragOver = (e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
                setIsOver(true);
            };

            const handleDragLeave = (e) => {
                setIsOver(false);
            };

            const handleDrop = (e) => {
                e.preventDefault();
                setIsOver(false);
                
                try {
                    const droppedData = JSON.parse(e.dataTransfer.getData('application/json'));
                    if (onDrop) {
                        onDrop(droppedData, slot, source);
                    }
                } catch (error) {
                    console.error('Error parsing dropped data:', error);
                }
            };

            return (
                <div
                    onDragOver={handleDragOver}
                    onDragLeave={handleDragLeave}
                    onDrop={handleDrop}
                    className={`aspect-square bg-black/30 backdrop-blur-sm border ${
                        isOver
                            ? `border-${uiSettings.colorTheme}-400 shadow-md shadow-${uiSettings.colorTheme}-500/20`
                            : "border-gray-800/50"
                    } rounded-md flex flex-col items-center justify-center relative cursor-pointer hover:border-gray-600/70 transition-all ${
                        isOver ? "scale-105" : ""
                    }`}
                >
                    {item ? (
                        <DraggableItem
                            item={item}
                            source={source}
                            onClick={() => onItemClick(item, source)}
                            uiSettings={uiSettings}
                        />
                    ) : (
                        <span className="text-gray-500/50 text-[10px] font-medium">{slot}</span>
                    )}
                </div>
            )
        }

        function InventorySystem() {
            const [isOpen, setIsOpen] = useState(false);
            const [playerInventory, setPlayerInventory] = useState([]);
            const [containerInventory, setContainerInventory] = useState([]);
            const [containerInfo, setContainerInfo] = useState(null);
            const [hotbarItems, setHotbarItems] = useState([]);
            const [selectedItem, setSelectedItem] = useState(null);
            const [actionAmount, setActionAmount] = useState(1);
            const [uiSettings, setUiSettings] = useState({
                colorTheme: "blue",
                gridSize: "medium",
                showWeight: true,
                showDurability: true,
                showIllegalMarker: true,
                showCategoryColors: true,
                darkMode: true,
                bgOpacity: "40",
                borderStyle: "thin",
                uiStyle: "default",
            });

            // Listen for NUI messages
            useEffect(() => {
                const handleMessage = (event) => {
                    const { type, data } = event.data;

                    switch (type) {
                        case 'openInventory':
                            setIsOpen(true);
                            setPlayerInventory(data.playerInventory || []);
                            setContainerInventory(data.containerInventory || []);
                            setContainerInfo(data.containerInfo || null);
                            setHotbarItems(data.hotbarItems || []);
                            break;
                        case 'closeInventory':
                            setIsOpen(false);
                            setSelectedItem(null);
                            break;
                        case 'updateInventory':
                            setPlayerInventory(data.playerInventory || playerInventory);
                            setContainerInventory(data.containerInventory || containerInventory);
                            setHotbarItems(data.hotbarItems || hotbarItems);
                            break;
                        case 'updateSettings':
                            setUiSettings(prev => ({ ...prev, ...data }));
                            break;
                    }
                };

                window.addEventListener('message', handleMessage);
                return () => window.removeEventListener('message', handleMessage);
            }, []);

            // Listen for keyboard events
            useEffect(() => {
                const handleKeyDown = (event) => {
                    // Handle Tab key to close inventory
                    if (event.key === 'Tab' && isOpen) {
                        event.preventDefault();
                        handleClose();
                    }
                    // Handle Escape key to close inventory
                    if (event.key === 'Escape' && isOpen) {
                        event.preventDefault();
                        handleClose();
                    }
                };

                if (isOpen) {
                    document.addEventListener('keydown', handleKeyDown);
                    return () => document.removeEventListener('keydown', handleKeyDown);
                }
            }, [isOpen]);

            const handleClose = () => {
                setIsOpen(false);
                setSelectedItem(null);
                fetch(`https://${GetParentResourceName()}/closeInventory`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({})
                });
            };

            const handleItemClick = (item, source) => {
                setSelectedItem({ ...item, source });
                setActionAmount(1);
            };

            const handleUseItem = () => {
                if (selectedItem) {
                    fetch(`https://${GetParentResourceName()}/useItem`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            item: selectedItem,
                            amount: actionAmount
                        })
                    });
                    setSelectedItem(null);
                }
            };

            const handleDropItem = () => {
                if (selectedItem) {
                    fetch(`https://${GetParentResourceName()}/dropItem`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            item: selectedItem,
                            amount: actionAmount
                        })
                    });
                    setSelectedItem(null);
                }
            };

            const handleTransferItem = () => {
                if (selectedItem) {
                    fetch(`https://${GetParentResourceName()}/transferItem`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            item: selectedItem,
                            amount: actionAmount
                        })
                    });
                    setSelectedItem(null);
                }
            };

            // Handle item drop (for drag and drop)
            const handleItemDrop = (item, newSlot, newSource) => {
                if (!item) return // Safety check

                fetch(`https://${GetParentResourceName()}/moveItem`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        item: item,
                        newSlot: newSlot,
                        newSource: newSource
                    })
                });

                // Clear selection if the moved item was selected
                if (selectedItem && selectedItem.id === item.id && selectedItem.source === item.source) {
                    setSelectedItem(null);
                }
            }

            const increaseAmount = () => {
                if (selectedItem && actionAmount < selectedItem.quantity) {
                    setActionAmount(actionAmount + 1);
                }
            };

            const decreaseAmount = () => {
                if (actionAmount > 1) {
                    setActionAmount(actionAmount - 1);
                }
            };

            // Generate empty slots
            const playerSlots = Array.from({ length: 42 }, (_, i) => i + 1);
            const containerSlots = Array.from({ length: 42 }, (_, i) => i + 1);
            const hotbarSlots = Array.from({ length: 5 }, (_, i) => i + 1);

            // Find item by slot
            const getItemBySlot = (slot, source) => {
                if (source === "player") {
                    return playerInventory.find((item) => item.slot === slot) || null
                } else if (source === "container") {
                    return containerInventory.find((item) => item.slot === slot) || null
                } else if (source === "hotbar") {
                    return hotbarItems.find((item) => item.slot === slot) || null
                }
                return null
            }

            // Calculate weights
            const playerWeight = playerInventory.reduce((total, item) => total + (item?.weight || 0) * (item?.quantity || 1), 0);
            const containerWeight = containerInventory.reduce((total, item) => total + (item?.weight || 0) * (item?.quantity || 1), 0);
            const playerWeightPercentage = (playerWeight / 30.0) * 100;
            const containerWeightPercentage = containerInfo ? (containerWeight / containerInfo.maxWeight) * 100 : 0;

            // Get grid size class
            const getGridSizeClass = () => {
                switch (uiSettings.gridSize) {
                    case "small":
                        return "grid-cols-8"
                    case "large":
                        return "grid-cols-6"
                    default:
                        return "grid-cols-7"
                }
            }

            // Helper function to get border style based on settings
            const getBorderStyle = () => {
                switch (uiSettings.borderStyle) {
                    case "none":
                        return "border-0"
                    case "thin":
                        return uiSettings.darkMode ? "border border-gray-800/50" : "border border-gray-300/50"
                    case "medium":
                        return uiSettings.darkMode ? "border-2 border-gray-800/70" : "border-2 border-gray-300/70"
                    case "thick":
                        return uiSettings.darkMode ? "border-4 border-gray-800/70" : "border-4 border-gray-300/70"
                    case "glow":
                        return `border border-${uiSettings.colorTheme}-500/50 shadow-lg shadow-${uiSettings.colorTheme}-500/20`
                    default:
                        return uiSettings.darkMode ? "border border-gray-800/50" : "border border-gray-300/50"
                }
            }

            // Helper function to get UI style based on settings
            const getUiStyle = () => {
                switch (uiSettings.uiStyle) {
                    case "minimal":
                        return uiSettings.darkMode ? "bg-black/30 backdrop-blur-sm" : "bg-white/30 backdrop-blur-sm"
                    case "glass":
                        return uiSettings.darkMode ? "bg-black/40 backdrop-blur-md" : "bg-white/40 backdrop-blur-md"
                    case "solid":
                        return uiSettings.darkMode ? "bg-gray-900" : "bg-gray-100"
                    case "neon":
                        return uiSettings.darkMode
                            ? `bg-black/60 border-${uiSettings.colorTheme}-500/30 shadow-lg shadow-${uiSettings.colorTheme}-500/20`
                            : `bg-white/60 border-${uiSettings.colorTheme}-500/30 shadow-lg shadow-${uiSettings.colorTheme}-500/20`
                    default:
                        return uiSettings.darkMode
                            ? `bg-black/${uiSettings.bgOpacity} backdrop-blur-sm`
                            : `bg-white/${uiSettings.bgOpacity} backdrop-blur-sm`
                }
            }

            if (!isOpen) return null;

            return (
                <div className={`h-screen w-full ${uiSettings.darkMode ? "bg-black/90" : "bg-gray-100/90"} text-white font-sans flex items-center justify-center p-1 overflow-hidden`}>
                    <div className="relative w-full max-w-7xl mx-auto h-full flex flex-col">
                        {/* Main Inventory Container */}
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-2">
                            {/* Player Inventory */}
                            <div className={`${getUiStyle()} rounded-lg overflow-hidden ${getBorderStyle()} shadow-xl h-full flex flex-col`}>
                                <div className={`p-2 border-b ${uiSettings.darkMode ? "border-gray-800/50" : "border-gray-300/50"} flex justify-between items-center ${uiSettings.darkMode ? "bg-gradient-to-r from-gray-900/30 to-black/30" : "bg-gradient-to-r from-gray-100/30 to-white/30"}`}>
                                    <div className="flex items-center gap-2">
                                        <h2 className={`text-base font-bold ${uiSettings.darkMode ? "text-white" : "text-gray-900"}`}>
                                            Player Inventory
                                        </h2>
                                        <div className="flex items-center gap-2">
                                            <div className="h-1.5 w-24 bg-gray-700/50 rounded-full overflow-hidden">
                                                <div
                                                    className={`h-full ${
                                                        playerWeightPercentage > 80
                                                            ? "bg-gradient-to-r from-red-500 to-red-600"
                                                            : `bg-gradient-to-r from-${uiSettings.colorTheme}-500 to-${uiSettings.colorTheme}-600`
                                                    }`}
                                                    style={{ width: `${playerWeightPercentage}%` }}
                                                ></div>
                                            </div>
                                            <span className="text-xs text-gray-400">
                                                {playerWeight.toFixed(1)}/30.0 kg
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div className={`grid ${getGridSizeClass()} gap-0 p-0.5 overflow-y-auto`}>
                                    {playerSlots.map((slot) => {
                                        const item = getItemBySlot(slot, "player")
                                        return (
                                            <DroppableSlot
                                                key={`player-${slot}`}
                                                slot={slot}
                                                item={item}
                                                source="player"
                                                onItemClick={handleItemClick}
                                                onDrop={handleItemDrop}
                                                uiSettings={uiSettings}
                                            />
                                        )
                                    })}
                                </div>
                            </div>

                            {/* Container Inventory */}
                            {containerInfo && (
                                <div className={`${getUiStyle()} rounded-lg overflow-hidden ${getBorderStyle()} shadow-xl h-full flex flex-col`}>
                                    <div className={`p-2 border-b ${uiSettings.darkMode ? "border-gray-800/50" : "border-gray-300/50"} flex justify-between items-center ${uiSettings.darkMode ? "bg-gradient-to-r from-gray-900/30 to-black/30" : "bg-gradient-to-r from-gray-100/30 to-white/30"}`}>
                                        <div className="flex items-center gap-2">
                                            <h2 className={`text-base font-bold ${uiSettings.darkMode ? "text-white" : "text-gray-900"}`}>
                                                {containerInfo.label}
                                            </h2>
                                            <div className="flex items-center gap-2">
                                                <div className="h-1.5 w-24 bg-gray-700/50 rounded-full overflow-hidden">
                                                    <div
                                                        className={`h-full bg-gradient-to-r from-${uiSettings.colorTheme}-500 to-${uiSettings.colorTheme}-600`}
                                                        style={{ width: `${containerWeightPercentage}%` }}
                                                    ></div>
                                                </div>
                                                <span className="text-xs text-gray-400">
                                                    {containerWeight.toFixed(1)}/{containerInfo.maxWeight} kg
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div className={`grid ${getGridSizeClass()} gap-0 p-0.5 overflow-y-auto`}>
                                        {containerSlots.map((slot) => {
                                            const item = getItemBySlot(slot, "container")
                                            return (
                                                <DroppableSlot
                                                    key={`container-${slot}`}
                                                    slot={slot}
                                                    item={item}
                                                    source="container"
                                                    onItemClick={handleItemClick}
                                                    onDrop={handleItemDrop}
                                                    uiSettings={uiSettings}
                                                />
                                            )
                                        })}
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* Hotbar */}
                        <div className="mt-2 flex justify-center">
                            <div className={`flex gap-0 p-2 ${getUiStyle()} rounded-lg ${getBorderStyle()} shadow-lg`}>
                                {hotbarSlots.map((slot) => (
                                    <div key={`hotbar-${slot}`} className="w-12 h-12 sm:w-14 sm:h-14">
                                        <DroppableSlot
                                            slot={slot}
                                            item={getItemBySlot(slot, "hotbar")}
                                            source="hotbar"
                                            onItemClick={handleItemClick}
                                            onDrop={handleItemDrop}
                                            uiSettings={uiSettings}
                                        />
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Action Modal */}
                        {selectedItem && (
                            <div className={`fixed inset-0 flex items-center justify-center z-50`}>
                                <div className={`${uiSettings.darkMode ? "bg-black/50" : "bg-white/50"} border ${uiSettings.darkMode ? "border-gray-700/50" : "border-gray-300/50"} rounded-lg p-3 w-80 backdrop-blur-sm shadow-2xl`}>
                                <div className="flex justify-between items-start mb-3">
                                    <div>
                                        <h3 className={`text-lg font-bold ${uiSettings.darkMode ? "text-white" : "text-gray-900"}`}>
                                            {selectedItem.name}
                                        </h3>
                                        <div className="flex items-center gap-2 mt-0.5">
                                            <div className={`w-2 h-2 rounded-full ${
                                                selectedItem.category === "weapons" ? "bg-red-500" :
                                                selectedItem.category === "medical" ? "bg-green-500" :
                                                selectedItem.category === "consumables" ? "bg-amber-500" :
                                                selectedItem.category === "tools" ? "bg-blue-500" :
                                                selectedItem.category === "valuables" ? "bg-purple-500" :
                                                selectedItem.category === "clothing" ? "bg-cyan-500" : "bg-gray-500"
                                            }`}></div>
                                            <span className="text-xs text-gray-400 capitalize">{selectedItem.category}</span>
                                        </div>
                                    </div>
                                    <button
                                        className={`text-gray-400 hover:text-${uiSettings.darkMode ? "white" : "gray-900"} bg-gray-800/50 hover:bg-gray-700/70 rounded-full p-1 transition-colors`}
                                        onClick={() => setSelectedItem(null)}
                                    >
                                        <i className="fas fa-times h-4 w-4"></i>
                                    </button>
                                </div>

                                <div className={`flex items-center justify-center mb-3 ${uiSettings.darkMode ? "bg-gradient-to-b from-gray-800/30 to-gray-900/30" : "bg-gradient-to-b from-gray-200/30 to-gray-300/30"} p-3 rounded-lg border ${uiSettings.darkMode ? "border-gray-800/50" : "border-gray-300/50"}`}>
                                    <img
                                        src={selectedItem.image || "/placeholder.svg"}
                                        alt={selectedItem.name}
                                        className="w-16 h-16 object-contain drop-shadow-lg"
                                    />
                                </div>

                                <p className={`text-xs ${uiSettings.darkMode ? "text-gray-300" : "text-gray-700"} mb-3 border-l-2 ${uiSettings.darkMode ? "border-gray-700" : "border-gray-300"} pl-2 italic`}>
                                    {selectedItem.description}
                                </p>

                                {selectedItem.quantity > 1 && (
                                    <div className="flex items-center justify-between mb-3">
                                        <span className={`text-xs ${uiSettings.darkMode ? "text-gray-300" : "text-gray-700"}`}>Amount:</span>
                                        <div className="flex items-center">
                                            <button
                                                className={`${uiSettings.darkMode ? "bg-gray-800 hover:bg-gray-700" : "bg-gray-300 hover:bg-gray-400"} ${uiSettings.darkMode ? "text-white" : "text-gray-900"} w-6 h-6 flex items-center justify-center rounded-l-md transition-colors`}
                                                onClick={decreaseAmount}
                                            >
                                                <i className="fas fa-minus h-3 w-3"></i>
                                            </button>
                                            <div className={`${uiSettings.darkMode ? "bg-black text-white" : "bg-white text-gray-900"} text-center w-8 h-6 flex items-center justify-center border-t border-b ${uiSettings.darkMode ? "border-gray-700" : "border-gray-300"}`}>
                                                {actionAmount}
                                            </div>
                                            <button
                                                className={`${uiSettings.darkMode ? "bg-gray-800 hover:bg-gray-700" : "bg-gray-300 hover:bg-gray-400"} ${uiSettings.darkMode ? "text-white" : "text-gray-900"} w-6 h-6 flex items-center justify-center rounded-r-md transition-colors`}
                                                onClick={increaseAmount}
                                            >
                                                <i className="fas fa-plus h-3 w-3"></i>
                                            </button>
                                        </div>
                                    </div>
                                )}

                                <div className="grid grid-cols-2 gap-2">
                                    <button
                                        className="bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white py-1.5 px-3 rounded-md transition-colors font-medium shadow-md text-sm"
                                        onClick={handleUseItem}
                                    >
                                        Use
                                    </button>
                                    <button
                                        className={`bg-gradient-to-r from-${uiSettings.colorTheme}-600 to-${uiSettings.colorTheme}-700 hover:from-${uiSettings.colorTheme}-500 hover:to-${uiSettings.colorTheme}-600 text-white py-1.5 px-3 rounded-md transition-colors font-medium shadow-md text-sm`}
                                        onClick={handleTransferItem}
                                    >
                                        Transfer
                                    </button>
                                    <button
                                        className="bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white py-1.5 px-3 rounded-md col-span-2 mt-1 transition-colors font-medium shadow-md text-sm"
                                        onClick={handleDropItem}
                                    >
                                        Drop
                                    </button>
                                </div>
                            </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<InventorySystem />, document.getElementById('root'));
    </script>
</body>
</html>
